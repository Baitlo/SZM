# 一种针对WSI的无损压缩算法—SVM

SZM压缩算法是一种专门用于压缩WSI（Whole Slide Image）的无损压缩算法。

## 概述

### WSI(Whole-Slide-Image)的介绍

数字病理学是病理学的一个子领域，专注于基于数字化标本载玻片生成的信息的数据管理。通过使用基于计算机的技术，玻璃载玻片被转换为可以在计算机显示器上查看、管理、共享和分析的数字载玻片[21]。医学病理图像的成像方式称为全切片数字化图像 ( whole slide image，WSI) [22]，美国 FDA 批准 WSI 可用于初级外科病理诊断后，使其在日常实践中得到更广泛的接受和应用开辟了道路[23]。虽然 WSI 目前被广泛用于病理学的教学、科研及诊断工作中，但其仍具有一定的应用局限性和挑战性[24]。 

### WSI发展遇到的挑战

处理 WSI 时的一个巨大挑战是它们的图像规模庞大。以 40 倍放大倍率扫描的 15×15 毫米样本为例，需要 60000×60000、24 位 RGB 彩色图像，从而产生超过 10 GB 的原始数据。即使在较低、更常见的 0.5 μm 分辨率下，图像的尺寸也达到 30000 × 30000 和 2.5 GB 的未压缩数据[15][16]。

此外，每个案例通常会产生多个 WSI（有时超过 35 个[17]）。因此，单个 WSI 扫描仪每年会产生数百 TB 的数据[17][18]。这些海量数据阻碍了虚拟病理学的采用。过多的带宽需求可能会阻碍 WSI 的远程可视化，而严格的存储需求（包括归档和备份系统）可能会降低数字病理工作流程的成本效益[11]。在这种情况下，图像压缩对于缓解这些存储和传输问题至关重要。

### 国内研究现状

国内对于WSI的研究多处于应用层面，集中在运用人工智能深度学习算法和大模型技对WSI切片进行分析处理的研究上，比如曹莉凌等在EfficientNet网络的基础上结合CA注意力机制，利用WSI切片判断甲状腺结节的良恶性级别[25]；陈金令等为实现乳腺病理 WSI 图像的精准分类，提出了一种基于混合连接的门控卷积神经网络分类方法[26]；祝闯等提出了一种对甲状腺细胞病理学 WSI 进行高效滤泡分割的新方法[27]等等。

然而，对于WSI压缩方法的研究较少，比如王耀威等提出了一种名为压缩 WSI 分类（CWC-Transformer）的两阶段框架，以有效解决 WSI 分类中的特征提取和空间信息丢失问题，但不是对于WSI本身的压缩方法。

### 国际研究现状

国际上对于WSI的压缩方法的研究较多，比较有影响力的有Maximilian Fischer等提出的一种针对病理图像量身定制的新型基于深度学习（DL）的压缩方法[29]；Henrik Helin等针对WSI对JPEG2000压缩方法的参数做专门优化，提出了JP2-WSI格式[2]；S Faghani等开发了一种图像处理算法来去除 WSI 中不需要的背景[3]等等。

## 算法原理

经过了解数字病理切片的制作步骤，发现数字病理切片具有颜色种类单调，图像基本颜色色度由染色材料所决定的自然性质。根据此性质，我们可以把WSI的色度和亮度分离，针对单调的色度种类就行编码压缩。

第一步 将RGB转换为YCbCr色彩空间；

第二步 使用K-Means聚类算法挑选出图像中最主要的几种颜色，并作为标准色；

第三步 针对图像的所有像素点进行差值编码和熵编码。

扩展（可继续针对已有编码进行哈夫曼编码或lzw编码）
## 实验
未完待续...

## 压缩效果
<center class="half">
    <img src="https://github.com/Baitlo/SZM/assets/165011236/9003188d-5b87-4a34-8b06-71701687665c" width="200"/><img src="https://github.com/Baitlo/SZM/assets/165011236/93978dbf-a07f-4969-b02d-8c454719715d" width="200"><img src="https://github.com/Baitlo/SZM/assets/165011236/ebefa2e1-4c1a-44e2-8cf8-4b29cdd445a5" width="200"/><img src="https://github.com/Baitlo/SZM/assets/165011236/5901bb42-b0bf-4182-9a89-2bf0b4fe7f0d" width="200"/>
</center>

